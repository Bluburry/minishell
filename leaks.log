==37700== Memcheck, a memory error detector
==37700== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==37700== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==37700== Command: ./minishell
==37700== Parent PID: 7374
==37700== 
==37700== Invalid read of size 1
==37700==    at 0x483EF46: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x4897757: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d0 is 0 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== Invalid read of size 1
==37700==    at 0x483EF54: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x4897757: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d1 is 1 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== Invalid read of size 1
==37700==    at 0x483F094: strcpy (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489776B: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d0 is 0 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== Invalid read of size 1
==37700==    at 0x483F0B2: strcpy (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489776B: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d1 is 1 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 
==37700== Process terminating with default action of signal 2 (SIGINT)
==37700==    at 0x48F53DB: kill (syscall-template.S:78)
==37700==    by 0x488F7A2: ??? (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4891C8E: rl_getc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4892502: rl_read_key (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4877C81: readline_internal_char (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48784EC: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== HEAP SUMMARY:
==37700==     in use at exit: 209,637 bytes in 375 blocks
==37700==   total heap usage: 720 allocs, 345 frees, 231,663 bytes allocated
==37700== 
==37700== 6 bytes in 6 blocks are definitely lost in loss record 1 of 67
==37700==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x402953: var_to_value (var_to_value.c:44)
==37700==    by 0x402C5E: expand_var_tokens (expand_var_tokens.c:29)
==37700==    by 0x401788: tokens_init (split_tokens.c:73)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 16 bytes in 1 blocks are still reachable in loss record 8 of 67
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x4032F5: create_env_struct (start_env_vars.c:53)
==37700==    by 0x401202: main (minishell.c:22)
==37700== 
==37700== 78 bytes in 39 blocks are definitely lost in loss record 19 of 67
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x403A2D: ft_substr (ft_substr.c:25)
==37700==    by 0x402AA5: var_to_value (var_to_value.c:71)
==37700==    by 0x402C5E: expand_var_tokens (expand_var_tokens.c:29)
==37700==    by 0x401788: tokens_init (split_tokens.c:73)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 148 bytes in 33 blocks are definitely lost in loss record 23 of 67
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x403395: ft_strjoin (ft_strjoin.c:21)
==37700==    by 0x402AB1: var_to_value (var_to_value.c:71)
==37700==    by 0x402C5E: expand_var_tokens (expand_var_tokens.c:29)
==37700==    by 0x401788: tokens_init (split_tokens.c:73)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 640 bytes in 1 blocks are still reachable in loss record 30 of 67
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40332D: create_env_struct (start_env_vars.c:56)
==37700==    by 0x401202: main (minishell.c:22)
==37700== 
==37700== 3,787 bytes in 60 blocks are still reachable in loss record 42 of 67
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40329B: copy_char_matrix (start_env_vars.c:37)
==37700==    by 0x40334E: create_env_struct (start_env_vars.c:57)
==37700==    by 0x401202: main (minishell.c:22)
==37700== 
==37700== LEAK SUMMARY:
==37700==    definitely lost: 232 bytes in 78 blocks
==37700==    indirectly lost: 0 bytes in 0 blocks
==37700==      possibly lost: 0 bytes in 0 blocks
==37700==    still reachable: 4,443 bytes in 62 blocks
==37700==         suppressed: 204,962 bytes in 235 blocks
==37700== 
==37700== ERROR SUMMARY: 95 errors from 7 contexts (suppressed: 0 from 0)
==37700== 
==37700== 6 errors in context 1 of 7:
==37700== Invalid read of size 1
==37700==    at 0x483F094: strcpy (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489776B: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d0 is 0 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 
==37700== 6 errors in context 2 of 7:
==37700== Invalid read of size 1
==37700==    at 0x483EF46: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x4897757: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d0 is 0 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 
==37700== 40 errors in context 3 of 7:
==37700== Invalid read of size 1
==37700==    at 0x483F0B2: strcpy (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489776B: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d1 is 1 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
==37700== 
==37700== 40 errors in context 4 of 7:
==37700== Invalid read of size 1
==37700==    at 0x483EF54: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x4897757: alloc_history_entry (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4897A04: add_history (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011D9: waiting_for_input (minishell.c:12)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Address 0x4b151d1 is 1 bytes inside a block of size 8 free'd
==37700==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x40173F: tokens_init (split_tokens.c:67)
==37700==    by 0x401270: lexer (lexer.c:11)
==37700==    by 0x4011D0: waiting_for_input (minishell.c:11)
==37700==    by 0x40120F: main (minishell.c:24)
==37700==  Block was alloc'd at
==37700==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==37700==    by 0x489E00C: xmalloc (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x48772AB: readline_internal_teardown (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4878504: readline (in /usr/lib/x86_64-linux-gnu/libreadline.so.8.0)
==37700==    by 0x4011AA: waiting_for_input (minishell.c:9)
==37700==    by 0x40120F: main (minishell.c:24)
==37700== 
--37700-- 
--37700-- used_suppression:     57 leak readline readline_supression:10 suppressed: 200,648 bytes in 214 blocks
--37700-- used_suppression:      4 leak add_history readline_supression:16 suppressed: 4,314 bytes in 21 blocks
==37700== 
==37700== ERROR SUMMARY: 95 errors from 7 contexts (suppressed: 0 from 0)
